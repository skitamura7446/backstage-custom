"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[4777],{4777:(G,C,t)=>{t.r(C),t.d(C,{TechDocsCustomHome:()=>F});var e=t(14041),h=t(91638),S=t(58837),f=t(92651),T=t(75757),r=t(61413),y=t(87266),A=t(11638),E=t(7877),a=t(23180),D=t(40703),x=t(57369),P=t(48653),U=t(59469);const B=n=>{const{entities:l}=n,d=(0,A.Sf)(y.b),m=(0,E.u)(E.p);return l?e.createElement(a.s3,{"data-testid":"docs-explore"},l!=null&&l.length?l.map((s,i)=>{var u,c;return e.createElement(D.A,{key:i},e.createElement(x.A,null,e.createElement(a.f1,{title:(u=s.metadata.title)!=null?u:s.metadata.name})),e.createElement(P.A,null,s.metadata.description),e.createElement(U.A,null,e.createElement(a.z9,{to:d({namespace:(0,r.t)((c=s.metadata.namespace)!=null?c:"default",m),kind:(0,r.t)(s.kind,m),name:(0,r.t)(s.metadata.name,m)}),color:"primary","data-testid":"read_docs"},"Read Docs")))}):null):null};var H=t(45250),I=t(17520);const R={DocsTable:r.D,DocsCardGrid:B},z=({config:n,entities:l,index:d})=>{const s=(0,S.A)({panelContainer:{marginBottom:"2rem",...n.panelCSS?n.panelCSS:{}}})(),{loading:i,isOwnedEntity:u}=(0,f.mM)(),c=R[n.panelType],p=l.filter(o=>n.filterPredicate==="ownedByUser"?i?!1:u(o):typeof n.filterPredicate=="function"&&n.filterPredicate(o));return e.createElement(e.Fragment,null,e.createElement(a.dv,{title:n.title,description:n.description},d===0?e.createElement(a.Yl,null,"Discover documentation in your ecosystem."):null),e.createElement("div",{className:s.panelContainer},e.createElement(c,{"data-testid":"techdocs-custom-panel",entities:p})))},F=n=>{const{tabsConfig:l}=n,[d,m]=(0,e.useState)(0),s=(0,E.u)(f.vp),{value:i,loading:u,error:c}=(0,h.default)(async()=>(await s.getEntities({filter:{"metadata.annotations.backstage.io/techdocs-ref":T.cr},fields:["apiVersion","kind","metadata","relations","spec.owner","spec.type"]})).items.filter(v=>{var g;return!!((g=v.metadata.annotations)!=null&&g["backstage.io/techdocs-ref"])})),p=l[d];return u?e.createElement(r.T,null,e.createElement(a.UC,null,e.createElement(a.ke,null))):c?e.createElement(r.T,null,e.createElement(a.UC,null,e.createElement(a.Bp,{severity:"error",title:"Could not load available documentation."},e.createElement(a.z7,{language:"text",text:c.toString()})))):e.createElement(r.T,null,e.createElement(a.of,{selectedIndex:d,onChange:o=>m(o),tabs:l.map(({label:o},v)=>({id:v.toString(),label:o}))}),e.createElement(a.UC,{"data-testid":"techdocs-content"},p.panels.map((o,v)=>e.createElement(z,{key:v,config:o,entities:i||[],index:v}))))}}}]);})();

//# sourceMappingURL=4777.c98aaa92.chunk.js.map