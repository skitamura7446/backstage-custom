{"version":3,"file":"ArgoCDHistoryCard-3751726f.esm.js","sources":["../../src/components/ArgoCDHistoryTable.tsx","../../src/components/ArgoCDHistoryCard.tsx"],"sourcesContent":["/*\n * Copyright 2021 Larder Software Limited\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Table, TableColumn } from '@backstage/core-components';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { Link, List, ListItem } from '@material-ui/core';\nimport React from 'react';\nimport SyncIcon from '@material-ui/icons/Sync';\nimport moment from 'moment';\nimport {\n  ArgoCDAppDeployRevisionDetails,\n  ArgoCDAppHistoryDetails,\n} from '../types';\n\nexport type ArgoCDHistoryTableRow = ArgoCDAppHistoryDetails & {\n  app: string;\n  appNamespace: string;\n  instance?: string;\n  revisionDetails?: ArgoCDAppDeployRevisionDetails;\n};\n\nexport const ArgoCDHistoryTable = ({\n  data,\n  retry,\n}: {\n  data: ArgoCDHistoryTableRow[];\n  retry: () => void;\n}) => {\n  const configApi = useApi(configApiRef);\n  const baseUrl = configApi.getOptionalString('argocd.baseUrl');\n  const namespaced =\n    configApi.getOptionalBoolean('argocd.namespacedApps') ?? false;\n  const supportsMultipleArgoInstances: boolean = Boolean(\n    configApi.getOptionalConfigArray('argocd.appLocatorMethods')?.length,\n  );\n\n  const columns: TableColumn[] = [\n    {\n      title: 'Name',\n      field: 'name',\n      render: (row: any): React.ReactNode =>\n        baseUrl ? (\n          <Link\n            href={`${baseUrl}/applications/${\n              namespaced ? `${row.appNamespace}/${row.app}` : row.app\n            }`}\n            target=\"_blank\"\n            rel=\"noopener\"\n          >\n            {row.app}\n          </Link>\n        ) : (\n          row.app\n        ),\n    },\n    {\n      title: 'Deploy Details',\n      defaultSort: 'desc',\n      field: 'deployedAt',\n      render: (row: any): React.ReactNode => (\n        <List dense style={{ padding: '0px' }}>\n          <ListItem style={{ paddingLeft: '0px' }}>\n            {row.deployedAt\n              ? `Deployed at ${moment(row.deployedAt)\n                  .local()\n                  .format('DD MMM YYYY, H:mm:ss')}`\n              : null}\n          </ListItem>\n          <ListItem style={{ paddingLeft: '0px' }}>\n            {row.deployedAt\n              ? `Run ${moment(row.deployStartedAt).local().fromNow()}`\n              : null}\n          </ListItem>\n          <ListItem style={{ paddingLeft: '0px' }}>\n            {row.deployedAt && row.deployStartedAt\n              ? `Took\n            ${moment\n              .duration(\n                moment(row.deployStartedAt).diff(moment(row.deployedAt)),\n              )\n              .humanize()}`\n              : null}\n          </ListItem>\n        </List>\n      ),\n    },\n    {\n      title: 'Author',\n      field: 'revisionDetails.author',\n      render: (row: any): React.ReactNode => (\n        <div>{row.revisionDetails?.author || 'Loading...'}</div>\n      ),\n    },\n    {\n      title: 'Message',\n      field: 'revisionDetails.message',\n      render: (row: any): React.ReactNode => (\n        <div>{row.revisionDetails?.message || 'Loading...'}</div>\n      ),\n    },\n    {\n      title: 'Revision',\n      field: 'revision',\n      render: (row: any): React.ReactNode => <div>{row.revision}</div>,\n    },\n  ];\n\n  if (supportsMultipleArgoInstances) {\n    columns.splice(1, 0, {\n      title: 'Instance',\n      field: 'instance',\n      render: (row: any): React.ReactNode =>\n        row.metadata?.instance?.name\n          ? row.metadata?.instance?.name\n          : row.instance,\n    });\n  }\n\n  return (\n    <Table\n      title=\"ArgoCD history\"\n      options={{\n        paging: true,\n        search: false,\n        draggable: false,\n        padding: 'dense',\n      }}\n      data={data}\n      columns={columns}\n      actions={[\n        {\n          icon: () => <SyncIcon />,\n          tooltip: 'Refresh',\n          isFreeAction: true,\n          onClick: () => retry(),\n        },\n      ]}\n    />\n  );\n};\n","/*\n * Copyright 2021 Larder Software Limited\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Entity } from '@backstage/catalog-model';\nimport {\n  ErrorBoundary,\n  InfoCard,\n  MissingAnnotationEmptyState,\n} from '@backstage/core-components';\nimport { configApiRef, useApi } from '@backstage/core-plugin-api';\nimport { useEntity } from '@backstage/plugin-catalog-react';\nimport { LinearProgress } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { isArgocdAvailable } from '../conditions';\nimport {\n  ArgoCDAppDetails,\n  ArgoCDAppHistoryDetails,\n  ArgoCDAppList,\n} from '../types';\nimport { useAppDetails } from './useAppDetails';\nimport {\n  ARGOCD_ANNOTATION_APP_NAME,\n  useArgoCDAppData,\n} from './useArgoCDAppData';\nimport { ArgoCDApi, argoCDApiRef } from '../api';\nimport {\n  ArgoCDHistoryTable,\n  ArgoCDHistoryTableRow,\n} from './ArgoCDHistoryTable';\n\nconst isHelmChart = (row: any): boolean => {\n  return row.source?.chart !== undefined;\n};\n\nconst getRevisionId = (row: any): string => {\n  if (row.revision.hasOwnProperty('revisionID')) {\n    return row.revision.revisionID;\n  }\n  return row.revision;\n};\n\nconst withRevisionDetails = async (\n  api: ArgoCDApi,\n  url: string,\n  row: any,\n): Promise<ArgoCDHistoryTableRow> => {\n  if (isHelmChart(row)) {\n    row.revisionDetails = { author: 'n/a', message: 'n/a', date: 'n/a' };\n    return row;\n  }\n\n  row.revisionDetails = await api.getRevisionDetails({\n    url: url,\n    app: row.app,\n    appNamespace: row.appNamespace,\n    revisionID: getRevisionId(row),\n    instanceName: row.instance,\n  });\n  return row;\n};\n\nconst ArgoCDHistory = ({ entity }: { entity: Entity }) => {\n  const [tableRows, setTableRows] = useState<ArgoCDHistoryTableRow[]>([]);\n\n  const argoCDApi = useApi(argoCDApiRef);\n  const { url, appName, appSelector, appNamespace, projectName } =\n    useArgoCDAppData({ entity });\n  const { loading, value, error, retry } = useAppDetails({\n    url,\n    appName,\n    appSelector,\n    appNamespace,\n    projectName,\n  });\n\n  const revisionsToLoad =\n    useApi(configApiRef).getOptionalNumber('argocd.revisionsToLoad') || -1;\n\n  useEffect(() => {\n    if (!value) {\n      return;\n    }\n    let apps: ArgoCDAppDetails[];\n    if ((value as ArgoCDAppList).items !== undefined) {\n      apps = (value as ArgoCDAppList).items ?? [];\n    } else if (Array.isArray(value)) {\n      apps = value as Array<ArgoCDAppDetails>;\n    } else {\n      apps = [value as ArgoCDAppDetails];\n    }\n\n    const revisions: ArgoCDHistoryTableRow[] = apps\n      .filter(app => app?.status?.history)\n      .flatMap(app => {\n        // @ts-ignore TS2532: The filter statement above prevents this from being undefined\n        return app.status.history\n          .sort(\n            (a, b) =>\n              new Date(b.deployedAt || '').valueOf() -\n              new Date(a.deployedAt || '').valueOf(),\n          )\n          .slice(0, revisionsToLoad)\n          .map((entry: ArgoCDAppHistoryDetails) => ({\n            key: `${app.metadata.name}-${entry.revision}`,\n            app: app.metadata.name,\n            appNamespace: app.metadata.namespace,\n            instance: app.metadata?.instance?.name,\n            ...entry,\n          }));\n      });\n\n    setTableRows(revisions);\n\n    // Update all items at once because otherwise it could lead to the too many re-renders error\n    Promise.all(\n      revisions.map(\n        async row => await withRevisionDetails(argoCDApi, url, row),\n      ),\n    ).then(rowsWithRevisions => {\n      setTableRows(rowsWithRevisions.filter(row => row));\n    });\n  }, [value, argoCDApi, url, revisionsToLoad]);\n\n  if (loading) {\n    return (\n      <InfoCard title=\"ArgoCD history\">\n        <LinearProgress />\n      </InfoCard>\n    );\n  }\n  if (error) {\n    return (\n      <InfoCard title=\"ArgoCD history\">\n        Error occurred while fetching data. {error.message}\n      </InfoCard>\n    );\n  }\n\n  if (tableRows.length) {\n    return <ArgoCDHistoryTable data={tableRows} retry={retry} />;\n  }\n\n  return null;\n};\nexport const ArgoCDHistoryCard = () => {\n  const { entity } = useEntity();\n  return !isArgocdAvailable(entity) ? (\n    <MissingAnnotationEmptyState annotation={ARGOCD_ANNOTATION_APP_NAME} />\n  ) : (\n    <ErrorBoundary>\n      <ArgoCDHistory entity={entity} />\n    </ErrorBoundary>\n  );\n};\n"],"names":[],"mappings":"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"}